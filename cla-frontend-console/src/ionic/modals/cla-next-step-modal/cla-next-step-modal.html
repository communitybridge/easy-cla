<ion-header>
  <ion-toolbar>
    <ion-title>
      Next Step
    </ion-title>
    <ion-buttons start>
      <button ion-button (click)="dismiss()">
        <ion-icon name="close"></ion-icon>
      </button>
    </ion-buttons>
  </ion-toolbar>
</ion-header>

<ion-content>
  <ion-grid>
    <ion-row>
      <ion-col col-12>
        <p *ngIf="loading.icla">Determining Your Next Step</p>
        <div *ngIf="!loading.icla">
          <div *ngIf="!userIsDone">
            <h1>You need to sign an ICLA</h1>
            <p>{{ project.project_name }} requires contributors covered by a corporate CLA to also sign an individual CLA. Click the button below to sign an individual CLA.</p>
            <button *ngIf="signingType == 'Github'" ion-button (click)="openIclaPage()">
              Open ICLA Page
            </button>
            <button *ngIf="signingType == 'Gerrit'" ion-button (click)="openGerritIclaPage()">
              Open ICLA Page
            </button>
          </div>
          <div *ngIf="userIsDone">
            <h1>
              You are done!
            </h1>
            <p>You've completed the CLA steps necessary to contribute. You can now return to writing awesome stuff. <p> 
            <p *ngIf="signingType == 'Github'"> 
            If you had a pull request in process you may need to refresh the page to see the updated checks.</p>
            <p *ngIf="signingType == 'Gerrit'"> 
            If you were logged in to your Gerrit Instance, you may need to log out and sign-in again. </p>
            <button *ngIf="signature.signature_return_url" ion-button (click)="gotoRepo()">
              Return to Repo
            </button>
            <button *ngIf="!signature.signature_return_url" ion-button (click)="closeClaApp()">
              Close CLA App
            </button>
          </div>
        </div>
      </ion-col>
    </ion-row>
  </ion-grid>
</ion-content>
