[
  {
    "essential": true,
    "image": "643009352547.dkr.ecr.us-west-2.amazonaws.com/infra/logstash:6.2.1",
    "memoryReservation": 1024,
    "name": "logstash",
    "portMappings": [
      {
        "containerPort": 5044,
        "hostPort": 5044
      },
      {
        "containerPort": 12201,
        "hostPort": 12201
      },
      {
        "containerPort": 9600,
        "hostPort": 9600
      },
      {
        "containerPort": 1514,
        "hostPort": 1514
      }
    ],
    "environment": [
      {
        "name": "PIPELINE_NAME",
        "value": "${PIPELINE_NAME}"
      },
      {
        "name": "AWS_ACCESS_KEY_ID",
        "value": "${AWS_ACCESS_KEY_ID}"
      },
      {
        "name": "AWS_SECRET_ACCESS_KEY",
        "value": "${AWS_SECRET_ACCESS_KEY}"
      },
      {
        "name": "S3_LOG_BUCKET",
        "value": "${S3_LOG_BUCKET}"
      },
      {
        "name": "ES_USERNAME",
        "value": "${ES_USERNAME}"
      },
      {
        "name": "ES_PASSWORD",
        "value": "${ES_PASSWORD}"
      },
      {
        "name": "ES_HOST_URL",
        "value": "${ES_HOST_URL}"
      }
    ],
    "logConfiguration": {
      "logDriver": "awslogs",
      "options": {
        "awslogs-group": "infra",
        "awslogs-region": "us-west-2",
        "awslogs-stream-prefix": "logstash"
      }
    }
  }
]