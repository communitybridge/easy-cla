<ion-header>
  <modal-header>
    GitHub Organization Whitelist

    <button type="button" ion-button class="clickable connect" (click)="connectGithub()"
            *ngIf="organizations.length > 0">
      Connect GitHub
    </button>
  </modal-header>
</ion-header>

<ion-content>
  <ion-grid>
    <ion-row>
      <ion-col col-12 class="github-organization">
        <div class="organizations" *ngIf="organizations.length > 0">
          <div class="organization" *ngFor="let organization of organizations"
               [ngClass]="{
                    'selected': organization.selected
                  }">
            <h4>{{ organization.id }}</h4>

            <button type="button" ion-button color="light" size="small"
                    *ngIf="!organization.selected"
                    (click)="addGitHubOrgWhiteList(organization.id)">
              Add
            </button>
            <button type="button" ion-button color="light" size="small" class="remove"
                    *ngIf="organization.selected"
                    (click)="removeGitHubOrgWhiteList(organization.id)">
              Remove
            </button>
          </div>
        </div>
        <div class="organizations" *ngIf="organizations.length === 0">
          <h5>No organizations.</h5>
          <button type="button" ion-button class="clickable connect" (click)="connectGithub()">Connect GitHub</button  >
        </div>
        <p class="form-message" *ngFor="let error of responseErrors">{{error}}</p>

      </ion-col>
    </ion-row>
  </ion-grid>
  <div class="btn-wrapper">
    <button ion-button color="secondary" (click)="dismiss()">
      Close
    </button>
  </div>
</ion-content>
